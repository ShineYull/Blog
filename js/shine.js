"use strict";var shine={saveData:(e,t)=>{localStorage.setItem(e,JSON.stringify({time:Date.now(),data:t}))},loadData:(e,t)=>{let o=JSON.parse(localStorage.getItem(e));if(o){let e=Date.now()-o.time;if(e<60*t*1e3&&e>-1)return o.data}return 0},randomLink:()=>{let e=shine.loadData("links",30);if(e){let t=document.querySelectorAll("#friend-links-in-footer .footer-item");if(!t.length)return;for(let o=0;o<5;o++){let n=parseInt(Math.random()*e.length);t[o].innerText=e[n].name,t[o].href=e[n].link,e.splice(n,1)}}else fetch("/link.json").then((e=>e.json())).then((e=>{shine.saveData("links",e.link_list),shine.randomLink()}))},getTimeState:function(){var e=(new Date).getHours(),t="";return 0<=e&&e<=5?t="晚安😴":5<e&&e<=10?t="早上好👋":10<e&&e<=14?t="中午好👋":14<e&&e<=18?t="下午好👋":18<e&&e<=24&&(t="晚上好👋"),t},sayhi:function(){var e=document.getElementById("author-info__sayhi");e&&(e.innerHTML=shine.getTimeState()+"！我是")},logInfo:()=>{console.log(`Welcome to:\n%cShine blog:%c https://blog.shineyu.cn%c\nThis site has been running stably for %c${Math.round(((new Date).getTime()-new Date("2022/12/01 00:00:00").getTime())/864e5)} %c days`,"border:1px #888 solid;border-right:0;border-radius:5px 0 0 5px;padding: 5px 10px;color:white;background:#4976f5;margin:10px 0","border:1px #888 solid;border-left:0;border-radius:0 5px 5px 0;padding: 5px 10px;","","color:#4976f5","")},switchCommentBarrage:function(){let e=window.localStorage.getItem("commentBarrageDisplay");document.getElementById("comment-barrage").style.display="false"===e?"block":"none",window.localStorage.setItem("commentBarrageDisplay","false"===e?"undefined":"false",864e5)},showConsole:function(){document.querySelector("#console").classList.add("show"),shine.initConsoleState()},hideConsole:function(){document.querySelector("#console").classList.remove("show")},hideAsideBtn:()=>{const e=document.documentElement.classList;e.contains("hide-aside")?saveToLocal.set("aside-status","show",2):saveToLocal.set("aside-status","hide",2),e.toggle("hide-aside"),e.contains("hide-aside")?document.querySelector("#consoleHideAside").classList.add("on"):document.querySelector("#consoleHideAside").classList.remove("on")},initConsoleState:function(){document.documentElement.classList.contains("hide-aside")?document.querySelector("#consoleHideAside").classList.add("on"):document.querySelector("#consoleHideAside").classList.remove("on"),shine.initSwitchCommentBarrage(),shine.initFPSBtn()},enterFullscreen:function(e){console.log("进入全屏的元素",e),e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():shine.noFullscreenSupport(),shine.is_mobile()&&window.screen.orientation.lock("landscape-primary")},exitFullscreen:function(e){console.log("全屏元素",e);let t=window.top.document;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitExitFullscreen?t.webkitExitFullscreen():shine.noFullscreenSupport()},noFullscreenSupport:function(){fullscreenState=!fullscreenState,alert("您的浏览器不支持全屏.")},is_mobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},scrollTo:function(e){var t=document.querySelector(e).offsetTop;window.scrollTo(0,t-80)},applyFlink:function(){var e=document.getElementsByClassName("el-textarea__inner")[0];let t=document.createEvent("HTMLEvents");t.initEvent("input",!0,!0),e.value="昵称（请勿包含博客等字样）：\n网站地址（要求博客地址，请勿提交个人主页）：\n头像图片url（请提供尽可能清晰的图片，我会上传到我自己的图床）：\n描述：\n",e.dispatchEvent(t),shine.scrollTo("#post-comment"),e.focus(),e.setSelectionRange(-1,-1)},switchCommentBarrage:function(){document.querySelector("#comment-barrage")&&($("#comment-barrage").is(":visible")?($("#comment-barrage").hide(),$(".menu-commentBarrage-text").text("显示热评"),document.querySelector("#consoleCommentBarrage").classList.remove("on"),localStorage.setItem("commentBarrageSwitch","false")):$("#comment-barrage").is(":hidden")&&($("#comment-barrage").show(),$(".menu-commentBarrage-text").text("关闭热评"),document.querySelector("#consoleCommentBarrage").classList.add("on"),localStorage.removeItem("commentBarrageSwitch")))},initSwitchCommentBarrage:function(){null==localStorage.getItem("commentBarrageSwitch")?($("#comment-barrage").show(),$(".menu-commentBarrage-text").text("关闭热评"),document.querySelector("#consoleCommentBarrage").classList.add("on"),localStorage.removeItem("commentBarrageSwitch")):"false"==localStorage.getItem("commentBarrageSwitch")&&($("#comment-barrage").hide(),$(".menu-commentBarrage-text").text("显示热评"),document.querySelector("#consoleCommentBarrage").classList.remove("on"))},FPSToggle:function(){"true"==localStorage.getItem("showFPS")?($("#fps").hide(),document.querySelector("#consoleFPS").classList.remove("on"),localStorage.setItem("showFPS","false")):($("#fps").show(),document.querySelector("#consoleFPS").classList.add("on"),localStorage.setItem("showFPS","true"))},initFPSBtn:function(){null==localStorage.getItem("showFPS")?($("#fps").hide(),document.querySelector("#consoleFPS").classList.remove("on"),localStorage.setItem("showFPS","false")):"true"==localStorage.getItem("showFPS")?document.querySelector("#consoleFPS").classList.add("on"):"false"==localStorage.getItem("showFPS")&&document.querySelector("#consoleFPS").classList.remove("on")}};shine.randomLink(),shine.sayhi(),shine.logInfo();